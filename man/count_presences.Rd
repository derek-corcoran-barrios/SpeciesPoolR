% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/count_presences.R
\name{count_presences}
\alias{count_presences}
\title{Count Presences of Species within a Specified Area}
\usage{
count_presences(species, shapefile = NULL, country = NULL)
}
\arguments{
\item{species}{A data.frame/tibble with columns \code{family}, \code{genus}, \code{species}.}

\item{shapefile}{Path to a shapefile (lon/lat coordinates preferred). If provided (and
\code{country} is NULL), a minimum bounding rectangle is used as the query geometry.}

\item{country}{Two-letter country code (e.g., "DK"). Ignored if \code{shapefile} is provided.}
}
\value{
A \code{data.table} with columns \code{family}, \code{genus}, \code{species}, \code{N}.
}
\description{
Counts the number of GBIF occurrences (1999â€“2023) for each species in \code{species}
within a country or within the minimum bounding rectangle of a shapefile.
}
\details{
If both \code{shapefile} and \code{country} are provided, an error is thrown. If neither is provided,
GBIF query is global.
}
\examples{
# Example species data.frame
species <- structure(
  list(family = "Polytrichaceae", genus = "Atrichum", species = "Atrichum undulatum"),
  row.names = c(NA, -1L), class = c("tbl_df","tbl","data.frame")
)

# Using a country code
# df_country <- count_presences(species, country = "DK")

# Using a shapefile (example from the package)
# f <- system.file("ex/Aarhus.shp", package="SpeciesPoolR")
# df_shapefile <- count_presences(species, shapefile = f)

}
